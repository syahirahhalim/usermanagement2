<form [formGroup]="userForm">
    <mat-form-field appearance="outline" class="d-block mb-2">
      <mat-label>Email</mat-label>
      <input formControlName="email" matInput placeholder="email" />
      <mat-error *ngIf="fieldHasError('email')">
        {{ getErrorMessage("email") }}
      </mat-error>
    </mat-form-field>
    <mat-form-field *ngIf="!userData" appearance="outline" class="d-block mb-2">
      <mat-label>Username</mat-label>
      <input formControlName="username" matInput placeholder="username" />
      <mat-error *ngIf="fieldHasError('username')">
        {{ getErrorMessage("username") }}
      </mat-error>
    </mat-form-field>
    <mat-form-field appearance="outline" class="d-block mb-2">
      <mat-label>Full Name</mat-label>
      <input formControlName="name" matInput placeholder="name" />
      <mat-error *ngIf="fieldHasError('name')">
        {{ getErrorMessage("name") }}
      </mat-error>
    </mat-form-field>
  
    <ng-container *ngIf="!userData">
      <mat-form-field appearance="outline" class="d-block mb-2">
        <mat-label>Role</mat-label>
        <mat-select formControlName="role">
          <mat-option *ngFor="let userRole of userRoles" [value]="userRole.val">
            {{ userRole.val }}
          </mat-option>
        </mat-select>
        <mat-error *ngIf="fieldHasError('role')">
          {{ getErrorMessage("role") }}
        </mat-error>
      </mat-form-field>
    </ng-container>
    <ng-container>
      <mat-form-field appearance="outline" class="d-block mb-2">
        <mat-label>Gender</mat-label>
        <mat-select formControlName="gender">
          <mat-option [value]="'Male'">
            Male
          </mat-option>
          <mat-option [value]="'Female'">
            Female
          </mat-option>
        </mat-select>
        <mat-error *ngIf="fieldHasError('gender')">
          {{ getErrorMessage("gender") }}
        </mat-error>
      </mat-form-field>
    </ng-container>
    <mat-form-field style="width: 100%;">
      <mat-label>Profile Picture</mat-label>
      <button mat-icon-button matPrefix (click)="f_input.click()">
        <mat-icon>attach_file</mat-icon>
      </button>
      <input type="text" readonly matInput formControlName="photoFile" />
      <input
        type="file"
        hidden
        accept="image/png, image/gif, image/jpeg"
        #f_input
        (change)="handleFileInputChange(f_input.files)"
      />
    </mat-form-field>
    <ng-container *ngIf="!userData">
      <mat-form-field appearance="outline" class="d-block mb-2">
        <mat-label>Password</mat-label>
        <input
          formControlName="password"
          matInput
          placeholder="Password"
          [type]="showPassword ? 'text' : 'password'"
        />
        <!-- SHOW AND HIDE PASSWORD -->
        <button
          color="accent"
          matSuffix
          mat-icon-button
          [attr.aria-label]="showPassword ? 'Hide' : 'Show'"
          (click)="showPassword = !showPassword"
          type="button"
        >
          <mat-icon>{{
            showPassword ? "visibility_off" : "visibility"
            }}</mat-icon>
        </button>
        <!-- SHOW AND HIDE PASSWORD -->
        <mat-error *ngIf="fieldHasError('password')">
          {{ getErrorMessage("password") }}
        </mat-error>
      </mat-form-field>
      <mat-form-field appearance="outline" class="d-block mb-2">
        <mat-label>Password Repeat</mat-label>
        <input
          formControlName="passwordConfirm"
          matInput
          placeholder="Password Repeat"
          [type]="showPassword ? 'text' : 'password'"
        />
        <mat-error *ngIf="fieldHasError('passwordConfirm')">
          {{ getErrorMessage("passwordConfirm") }}
        </mat-error>
      </mat-form-field>
    </ng-container>
  </form>
  